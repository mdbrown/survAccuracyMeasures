survAccuracyMeasures
=============================================

This R package computes non-parametric and semi-parametric estimates of accuracy measures for risk prediction markers from survival data. It consists of the function `survAM.estimate` which estimates the *AUC*, *TPR( c )*, *FPR( c )*, *PPV( c )*, and *NPV( c )* for for a specific timepoint and marker cutoff value c. Bootstrap standard errors, and confidence intervals are also computed. 

For detailed information regarding estimation methods, see references below. 



## Tutorial


```{r, eval=FALSE}
#install the package from github
# download the package from github
if (!require("devtools")) install.packages("devtools")
devtools::install_github("survMarkerTwoPhase", "mdbrown")
```

```{r}
library(survAccuracyMeasures)

#simulated data for illustration
data(SimData)
head(SimData)
```


Estimate all measures, using the bootstrap to estimate standard errors. First we obtain non-parametric estimates using double inverse probablity weighting:

```{r}
#Estimate all the measures at future time 2, with a marker cutpoint at 0. 

#non-parametric estimates
survAM.estimate(time =SimData$survTime, 
                event = SimData$status, 
                marker = SimData$Y,
                ESTmethod = "NP",
                predict.time = 1, 
                 cutpoint = 0, 
                bootstraps = 50)
```

Alternatively, we can calculate semi-parametric estimates based on a proportional hazards model:


```{r}
#semi-parametric estimates assuming a cox model
survAM.estimate(time =SimData$survTime, 
                event = SimData$status, 
                marker = SimData$Y,
                ESTmethod = "SP",
                predict.time = 1, 
                 cutpoint = 0, 
                bootstraps = 50)
```



Only estimate the $AUC$ and $TPR(0)$. 

```{r}
tmp <- survAM.estimate(time =SimData$survTime, event = SimData$status, marker = SimData$Y, predict.time = 2, measures = c("AUC", "TPR"), bootstraps = 50, cutpoint = 0)
tmp
```

```{r}
#access the estimates 
tmp$estimates

#and the confidence bounds
tmp$CIbounds
```

For more information see `?survAM.estimate`. 


### References
Liu D, Cai T, Zheng Y. Evaluating the predictive value of biomarkers with stratified case-cohort design. *Biometrics* 2012, 4: 1219-1227.

Pepe MS, Zheng Y, Jin Y. Evaluating the ROC performance of markers for future events. *Lifetime Data Analysis.* 2008, 14: 86-113.

Zheng Y, Cai T, Pepe MS, Levy, W. Time-dependent predictive values of prognostic biomarkers with failure time outcome. *JASA* 2008, 103: 362-368.














